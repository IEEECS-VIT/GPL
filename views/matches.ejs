<!--
  GraVITas Premier League <gravitaspremierleague@gmail.com>
  Copyright (C) 2014  IEEE Computer Society - VIT Student Chapter <ieeecs@vit.ac.in>

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Matches | GPL</title>
    <link type="text/css" rel="stylesheet" href="/bower_components/foundation/css/foundation.css"/>
    <link href="http://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet" type="text/css">
    <link href="/stylesheets/gplmain.css" rel="stylesheet" type="text/css"/>
    <script src="/javascript/tabs.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-57505316-2', 'auto');
        ga('send', 'pageview');

    </script>
</head>
<body style="background-color:#646464;font-family: 'PT Sans', sans-serif;height:100%;">
<div style="min-height: 100%">
    <!--TOP BAR-->
    <div class="large-12 top-bar" style="font-family: 'PT Sans', sans-serif;overflow: visible;">
        <section class="top-bar-section small-only-text-center">
            <ul class="left">
                <li><a href="/"><img src="http://res.cloudinary.com/gpl/image/upload/general/small.png" style="height:42px;padding-bottom:3px;"/></a></li>
                <li><a href="https://www.facebook.com/ieeecsvit"><img src="http://res.cloudinary.com/gpl/image/upload/general/ieee.png" style="height:40px;"
                                                                      align="center"/></a></li>

            </ul>
            <ul class="right">
                <li><a href="/logout">Log Out</a></li>
            </ul>
        </section>
    </div>
    <!-- top bar -->
    <div class="row" align="center">
        <ul class="breadcrumbs"
            style="background:rgba(30,30,30,0.9); border: none; box-shadow: inset 0 0 5px 3px rgba(255,255,255,0.2);margin-top: 5%;">
            <li><a href="/home" style="color: #ffffff;">Home</a></li>
            <li class="current"><a href="#" style="color:lightsteelblue;">Match</a></li>
            <li><a href="/home/leaderboard" style="color:#ffffff;">Leaderboard</a></li>
            <li><a href="/home/rules" style="color:#ffffff;">Rules</a></li>
            <li><a href="/home/sponsors" style="color:#ffffff;">Sponsors</a></li>
            <li><a href="/home/prize" style="color:#ffffff;">Prizes</a></li>
            <li><a href="/home/trailer" style="color:#ffffff;">Trailer</a></li>
        </ul>
    </div>

    <div class="small-12 large-12">
        <div style="text-align:center;" align="center">
            <ul class="radius tabs" data-tab="" style="margin-left: 37%">
                <li class="tab-title active" id="act1" onclick="tab(1)"><a href="#">Previous Match</a></li>
                <li class="tab-title" id="noact4" onclick="tab(4)"><a href="#">Next Match</a></li>

            </ul>
        </div>
        <div class="row" align="center">

            <div class="small-12 medium-12 large-12 columns"
                 style="background:rgba(32,98,172,0.9); border-radius: 5px;border:5px;margin-top: 2%;box-shadow: inset 20px 0 50px -10px rgba(0,0,0,0.4), inset -20px 0 50px -10px rgba(0,0,0,0.4),inset 0 20px 50px rgba(0,0,0,0.4);">
                <div class="tabs-content">
                    <div class="content active" id="panel1">
                        <div class="large-12 medium-12 small-12">
                            <h3 style="color:white;font-weight: bolder;">Commentary</h3>
                            <% if(response["previousMatch"].commentary.length === 0) { %>
                            <p style="text-align: center;color: white;font-weight: bold;">Commentary Unavailable! </p>
                            <% } else { %>
                            <ul style="text-align: left;color:white;list-style:none;">
                                <h4 style="color: white;font-weight: bold;text-align: center;"><%= response["previousMatch"].commentary[0] %></h4>
                                <% var t;var count = 0; var e = 0; for(var i = 1;i < response["previousMatch"].commentary.length - 1;i++){
                                    t = 0;if (e > 0)
                                    {
                                        e -= 1;
                                        continue;
                                    }
                                        if(response["previousMatch"].commentary[i][0] == 'O' && response["previousMatch"].commentary[i][1] == 'U' && response["previousMatch"].commentary[i][2] == 'T'){ t = 1; %>
                                <% count = 0; for(var t = i;t < i + 4;t++){  ++count; %>

                                <li>
                                    <b style="background:rgba(0,0,0,0.1);color:rgba(255,0,0,1);border-radius: 360px;padding: 0.2% 1%"><%= response["previousMatch"].commentary[t] %></b>
                                </li>
                                <% } e = 3; %>
                                <% } else if(response["previousMatch"].commentary[i][0] == 'S' && response["previousMatch"].commentary[i][1] == 'I' && response["previousMatch"].commentary[i][2] == 'X'){t = 1; %>
                                <li>
                                    <b style="color:#ffff00;background: rgba(60,60,60,0.2);border-radius: 360px;padding: 0.1%"><%= response["previousMatch"].commentary[i] %></b>
                                </li>
                                <% }else if(response["previousMatch"].commentary[i][0] == 'F' && response["previousMatch"].commentary[i][1] == 'O' && response["previousMatch"].commentary[i][2] == 'U' && response["previousMatch"].commentary[i][3] == 'R'){t = 1; %>
                                <li>
                                    <b style="color:yellow;background: rgba(60,60,60,0.2);border-radius: 360px;padding: 0.1%"><%= response["previousMatch"].commentary[i] %></b>
                                </li>
                                <% }else if(response["previousMatch"].commentary[i][0] == ' ' && response["previousMatch"].commentary[i][1] == 'S' && response["previousMatch"].commentary[i][2] == 'c' && response["previousMatch"].commentary[i][3] == 'o' && response["previousMatch"].commentary[i][4] == 'r' && response["previousMatch"].commentary[i][5] == 'e' && response["previousMatch"].commentary[i][6] == 'c'  ){ t = 1; %>
                                <div style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3);border-radius: 5px;margin-bottom: 2%"
                                     class="large-12 small-12 medium-12 columns">
                                    <% for(t = i;t < i + 24;t++){ %>

                                    <li>
                                        <b style="color:rgba(255,255,255,1);border-radius: 360px;padding: 0.2% 1%"><%= response["previousMatch"].commentary[t] %></b>
                                    </li>
                                    <% }e = 23; %>

                                </div>

                                <hr/>
                                <% }else if(response["previousMatch"].commentary[i][0] == ' ' && response["previousMatch"].commentary[i][1] == 'L' && response["previousMatch"].commentary[i][2] == 'a'){ t = 1; %>
                                <div style="background: rgba(50,50,255,0.2); border: 1px solid rgba(255,255,255,0.3);border-radius: 5px;margin-bottom: 2%"
                                     class="large-12 small-12 medium-12 columns">
                                    <% count = 0; for(var q = i;q < i + 25;q++){ if((response["previousMatch"].commentary[q][1] == '.') || (response["previousMatch"].commentary[q][2] == '.') || (response["previousMatch"].commentary[q][0] == ' ' && response["previousMatch"].commentary[q][1] == 'S' && response["previousMatch"].commentary[q][2] == 'c' && response["previousMatch"].commentary[q][3] == 'o' && response["previousMatch"].commentary[q][4] == 'r' && response["previousMatch"].commentary[q][5] == 'e' && response["previousMatch"].commentary[q][6] == 'c')) {
                                        i--;
                                        i += count;
                                        break;
                                    } else { ++count; %>

                                    <li>
                                        <b style="color:rgba(255,255,255,1);border-radius: 360px;padding: 0.2% 1%"><%= response["previousMatch"].commentary[q] %></b>
                                    </li>
                                    <% } } %>
                                </div>

                                <hr/>
                                <% } else if(t == 0 && e == 0){ %>
                                <li><%= response["previousMatch"].commentary[i] %></li>
                                <% }} %>
                                <h4 style="font-weight: bold;color: #ffffff;text-align: center;"><%= response["previousMatch"].commentary[response["previousMatch"].commentary.length - 1] %></h4>
                            </ul>
                            <% } %>
                        </div>
                    </div>
                    <div class="content" id="panel4">
                        <h3 style="color:white">Next Opponent<br/></h3>
                        <% if(response["nextMatch"].length > 0) { %>
                        <table cellspacing="10px"
                               style="background-color: rgba(60,60,60,0.8); border: none;border-radius: 5px;width:100%;">

                            <% var f = false; for(var i = 0;i < response["nextMatch"].length;i++) { %>
                            <% if((response["nextMatch"][i]._id > 303)&&(response["nextMatch"][i]).toString=="NaN") { %>
                            <td style="color: #ffffff;font-weight: bold;text-align: center;border:dashed white 1px;margin:2%;border-radius: 5px;"
                                colspan="3">
                                <img src="http://res.cloudinary.com/gpl/image/upload/players/coaches/d<%= response["nextMatch"][i]._id %>.jpg"
                                     style="width: 40%; margin: 0"/>

                                <p style="text-align: center;">
                                    <%= response["nextMatch"][i].Name %>
                                </p>

                                <p style="text-align: center;">Coach</p>
                            </td>
                            <% f=true; } } if(!f) {%>
                            <td style="color: #ffffff;font-weight: bold;text-align: center;border:dashed white 1px;margin:2%;border-radius: 5px;"
                                colspan="3">
                                <img src="http://res.cloudinary.com/gpl/image/upload/players/coaches/d323.jpg"
                                     style="width: 40%; margin: 0"/>

                                <p style="text-align: center;">
                                    Ray Jennings
                                </p>

                                <p style="text-align: center;">Coach</p>
                            </td>
                            <% } %>
                            <% k = 4;i = 0; var z = 1;for(i = 0;i < response["nextMatch"].length;i++) { %>
                            <% if(k < 3){ %>

                            <% if(response["nextMatch"][i]._id <= 303){ %>
                            <td style="color: #ffffff;font-weight: bold;text-align: center;border:dashed white 1px;margin:2%;border-radius: 5px;width: 34%;"
                                id="box<%= response["nextMatch"][i]._id %>">

                                <% if (response["nextMatch"][i]._id <= 113){ %>
                                <img src="http://res.cloudinary.com/gpl/image/upload/players/bat/a<%= response["nextMatch"][i]._id %>.jpg"
                                     style="width: 40%;margin: 0;float: left;"/>

                                <p style="text-align: center;"><%= response["nextMatch"][i].Name %></p>

                                <p style="text-align: center;">Batsman</p>
                                <% } else if(response["nextMatch"][i]._id >= 114 && response["nextMatch"][i]._id <= 242) { %>
                                <img src="http://res.cloudinary.com/gpl/image/upload/players/bowl/b<%= response["nextMatch"][i]._id %>.jpg"
                                     style="width: 40%;margin: 0;float: left;"/>

                                <p style="text-align: center;"><%= response["nextMatch"][i].Name %></p>

                                <p style="text-align: center;">Bowler</p>
                                <% } else if(response["nextMatch"][i]._id >= 243 && response["nextMatch"][i]._id <= 303) { %>
                                <img src="http://res.cloudinary.com/gpl/image/upload/players/all/c<%= response["nextMatch"][i]._id %>.jpg"
                                     style="width: 40%;margin: 0;float: left;"/>

                                <p style="text-align: center;"><%= response["nextMatch"][i].Name %></p>

                                <p style="text-align: center;">All Rounder</p>
                                <% } %>
                            </td>
                            <% k++; } else {
                                continue;
                            } %>
                            <% } else { if(z == 1) { %>
                            <tr style="background-color: rgba(60,60,60,0.8);border: none;padding:2%;border-radius: 5px;">
                                <% z = 0;k = 0;i--;} else { %>
                            </tr>
                            <% k = 0;i--; %>
                            <tr style="background-color: rgba(60,60,60,0.8);border: none;padding:2%;border-radius: 5px;">
                                <% } } } %>
                            </tr>
                        </table>
                        <% } else { %>
                        <p style="color: white;text-align: left;padding: 1%;margin-left: 1%;">Your next opponent has not
                            set his team. If he shall not do that till the next match, you shall be declared
                            victorious!</p>
                        <% } %>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<!--content-->
<footer class="large-12" style="bottom:0; position:relative;">
    <div class="top-bar" style="position:relative;margin:2% 0 0 0; overflow: hidden;">
        <section class="top-bar-section">
            <ul class="left">
                <li style="display:block;"><a href="http://vitgravitas.com/"><img src="http://res.cloudinary.com/gpl/image/upload/general/gravitas.png"
                                                                                  style="height:45px;"/></a></li>
                <li><a href="http://vit.ac.in/"><img src="http://res.cloudinary.com/gpl/image/upload/general/vit_logo_white.png"
                                                     style="height:40px;padding-top: 5px" align="center"/></a></li>
            </ul>
            <ul class="right">
                <li><a href="/home/developers"><img src="http://res.cloudinary.com/gpl/image/upload/general/symbol.png" style="height:35px;" align="center"/><span
                                style="color:white;text-shadow: 1px 1px rgba(68,59,50,1);">Developers</span></a></li>

            </ul>

        </section>
        <p style="margin-left: 46%; font-size:60%;color:white;bottom:0; margin-top:2%">&copy;IEEE-CS VIT Chapter</p>

    </div>
</footer>
<!-- footer -->
</body>
</html>
